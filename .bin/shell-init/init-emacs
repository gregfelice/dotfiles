# install emacs
install_package emacs

# install spacemacs
if [[ ! -d ~/.emacs.d ]]; then
    mkdir -p ~/.emacs.d || { echo "Failed to create ~/.emacs.d"; exit 1; }
    git clone https://github.com/syl20bnr/spacemacs ~/.emacs.d || { echo "Failed to clone Spacemacs"; rm -rf ~/.emacs.d; exit 1; }
fi

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
    export EDITOR='emacs'
else
    export EDITOR='emacs'
fi
